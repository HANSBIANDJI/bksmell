{"version":3,"file":"Brands-BUTj3SJl.js","sources":["../../src/pages/admin/Brands.tsx"],"sourcesContent":["import { useState } from 'react';\nimport { useGlobalStore } from '@/stores/globalStore';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table';\nimport { Badge } from '@/components/ui/badge';\nimport { Plus, Search, Edit, Trash2 } from 'lucide-react';\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport { Label } from '@/components/ui/label';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Switch } from '@/components/ui/switch';\nimport { useToast } from '@/components/ui/use-toast';\n\nexport default function Brands() {\n  const { brands, addBrand, updateBrand, deleteBrand } = useGlobalStore();\n  const [searchTerm, setSearchTerm] = useState('');\n  const [isAddDialogOpen, setIsAddDialogOpen] = useState(false);\n  const [isEditDialogOpen, setIsEditDialogOpen] = useState(false);\n  const [editingBrand, setEditingBrand] = useState<any>(null);\n  const [newBrand, setNewBrand] = useState({\n    name: '',\n    description: '',\n    active: true\n  });\n  const { toast } = useToast();\n\n  const filteredBrands = brands.filter(brand =>\n    brand.name.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n\n  const handleAddBrand = () => {\n    try {\n      addBrand(newBrand);\n      setIsAddDialogOpen(false);\n      setNewBrand({\n        name: '',\n        description: '',\n        active: true\n      });\n      toast({\n        title: \"Marque ajoutée\",\n        description: \"La marque a été ajoutée avec succès\"\n      });\n    } catch (error) {\n      toast({\n        variant: \"destructive\",\n        title: \"Erreur\",\n        description: \"Impossible d'ajouter la marque\"\n      });\n    }\n  };\n\n  const handleEditBrand = () => {\n    if (editingBrand) {\n      try {\n        updateBrand(editingBrand.id, editingBrand);\n        setIsEditDialogOpen(false);\n        setEditingBrand(null);\n        toast({\n          title: \"Marque mise à jour\",\n          description: \"La marque a été mise à jour avec succès\"\n        });\n      } catch (error) {\n        toast({\n          variant: \"destructive\",\n          title: \"Erreur\",\n          description: \"Impossible de mettre à jour la marque\"\n        });\n      }\n    }\n  };\n\n  const handleDeleteBrand = (id: string) => {\n    if (window.confirm('Êtes-vous sûr de vouloir supprimer cette marque ?')) {\n      try {\n        deleteBrand(id);\n        toast({\n          title: \"Marque supprimée\",\n          description: \"La marque a été supprimée avec succès\"\n        });\n      } catch (error) {\n        toast({\n          variant: \"destructive\",\n          title: \"Erreur\",\n          description: \"Impossible de supprimer la marque\"\n        });\n      }\n    }\n  };\n\n  return (\n    <div className=\"p-8\">\n      <div className=\"flex justify-between items-center mb-8\">\n        <div>\n          <h1 className=\"text-2xl font-bold\">Marques</h1>\n          <p className=\"text-muted-foreground\">\n            Gérez les marques de parfums\n          </p>\n        </div>\n        <Button onClick={() => setIsAddDialogOpen(true)}>\n          <Plus className=\"mr-2 h-4 w-4\" />\n          Ajouter une marque\n        </Button>\n      </div>\n\n      <div className=\"mb-6\">\n        <div className=\"relative\">\n          <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400\" />\n          <Input\n            placeholder=\"Rechercher une marque...\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n            className=\"pl-10\"\n          />\n        </div>\n      </div>\n\n      <div className=\"bg-white rounded-lg border\">\n        <Table>\n          <TableHeader>\n            <TableRow>\n              <TableHead>Nom</TableHead>\n              <TableHead>Description</TableHead>\n              <TableHead>Statut</TableHead>\n              <TableHead className=\"text-right\">Actions</TableHead>\n            </TableRow>\n          </TableHeader>\n          <TableBody>\n            {filteredBrands.map((brand) => (\n              <TableRow key={brand.id}>\n                <TableCell className=\"font-medium\">{brand.name}</TableCell>\n                <TableCell>{brand.description || '-'}</TableCell>\n                <TableCell>\n                  <Badge variant={brand.active ? 'default' : 'secondary'}>\n                    {brand.active ? 'Active' : 'Inactive'}\n                  </Badge>\n                </TableCell>\n                <TableCell className=\"text-right\">\n                  <Button\n                    variant=\"ghost\"\n                    size=\"icon\"\n                    onClick={() => {\n                      setEditingBrand(brand);\n                      setIsEditDialogOpen(true);\n                    }}\n                  >\n                    <Edit className=\"h-4 w-4\" />\n                  </Button>\n                  <Button\n                    variant=\"ghost\"\n                    size=\"icon\"\n                    className=\"text-red-600\"\n                    onClick={() => handleDeleteBrand(brand.id)}\n                  >\n                    <Trash2 className=\"h-4 w-4\" />\n                  </Button>\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </div>\n\n      {/* Add Brand Dialog */}\n      <Dialog open={isAddDialogOpen} onOpenChange={setIsAddDialogOpen}>\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle>Ajouter une marque</DialogTitle>\n          </DialogHeader>\n          <div className=\"grid gap-4 py-4\">\n            <div>\n              <Label htmlFor=\"name\">Nom</Label>\n              <Input\n                id=\"name\"\n                value={newBrand.name}\n                onChange={(e) => setNewBrand({ ...newBrand, name: e.target.value })}\n              />\n            </div>\n            <div>\n              <Label htmlFor=\"description\">Description</Label>\n              <Textarea\n                id=\"description\"\n                value={newBrand.description}\n                onChange={(e) => setNewBrand({ ...newBrand, description: e.target.value })}\n              />\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <Switch\n                checked={newBrand.active}\n                onCheckedChange={(checked) => setNewBrand({ ...newBrand, active: checked })}\n              />\n              <Label>Marque active</Label>\n            </div>\n          </div>\n          <div className=\"flex justify-end gap-4\">\n            <Button variant=\"outline\" onClick={() => setIsAddDialogOpen(false)}>\n              Annuler\n            </Button>\n            <Button onClick={handleAddBrand}>Ajouter</Button>\n          </div>\n        </DialogContent>\n      </Dialog>\n\n      {/* Edit Brand Dialog */}\n      <Dialog open={isEditDialogOpen} onOpenChange={setIsEditDialogOpen}>\n        {editingBrand && (\n          <DialogContent>\n            <DialogHeader>\n              <DialogTitle>Modifier la marque</DialogTitle>\n            </DialogHeader>\n            <div className=\"grid gap-4 py-4\">\n              <div>\n                <Label htmlFor=\"edit-name\">Nom</Label>\n                <Input\n                  id=\"edit-name\"\n                  value={editingBrand.name}\n                  onChange={(e) => setEditingBrand({\n                    ...editingBrand,\n                    name: e.target.value\n                  })}\n                />\n              </div>\n              <div>\n                <Label htmlFor=\"edit-description\">Description</Label>\n                <Textarea\n                  id=\"edit-description\"\n                  value={editingBrand.description}\n                  onChange={(e) => setEditingBrand({\n                    ...editingBrand,\n                    description: e.target.value\n                  })}\n                />\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <Switch\n                  checked={editingBrand.active}\n                  onCheckedChange={(checked) => setEditingBrand({\n                    ...editingBrand,\n                    active: checked\n                  })}\n                />\n                <Label>Marque active</Label>\n              </div>\n            </div>\n            <div className=\"flex justify-end gap-4\">\n              <Button variant=\"outline\" onClick={() => setIsEditDialogOpen(false)}>\n                Annuler\n              </Button>\n              <Button onClick={handleEditBrand}>Enregistrer</Button>\n            </div>\n          </DialogContent>\n        )}\n      </Dialog>\n    </div>\n  );\n}"],"names":["Brands","brands","addBrand","updateBrand","deleteBrand","useGlobalStore","searchTerm","setSearchTerm","useState","isAddDialogOpen","setIsAddDialogOpen","isEditDialogOpen","setIsEditDialogOpen","editingBrand","setEditingBrand","newBrand","setNewBrand","toast","useToast","filteredBrands","brand","handleAddBrand","handleEditBrand","handleDeleteBrand","id","jsxs","jsx","Button","Plus","Search","Input","e","Table","TableHeader","TableRow","TableHead","TableBody","TableCell","Badge","Edit","Trash2","Dialog","DialogContent","DialogHeader","DialogTitle","Label","Textarea","Switch","checked"],"mappings":"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"}