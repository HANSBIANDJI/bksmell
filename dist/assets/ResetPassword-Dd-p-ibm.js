import{j as e}from"./ui-DHvs7Rtw.js";import{r as i,u as h}from"./vendor-BqKlwGYI.js";import{w as v,g as f,o as j,I as N,B as l,L as g}from"./index-BZikNEYv.js";import{L as y}from"./label-CGDRo2T5.js";import{M as b}from"./mail-BM3gX1Aa.js";import{A as w}from"./arrow-left-xw5BdMCh.js";import"./utils-DdJn5tvr.js";function A(){const[s,m]=i.useState(""),[a,r]=i.useState(!1),[n,c]=i.useState(!1),{resetPassword:d}=v(),{toast:u}=f(),o=h(),x=async t=>{t.preventDefault(),r(!0);try{await d(s),c(!0)}catch(p){u({variant:"destructive",title:"Erreur",description:p.message})}finally{r(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-purple-50 to-white flex items-center justify-center p-4",children:e.jsxs(j,{className:"w-full max-w-md p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Mot de passe oublié"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:n?"Un email de réinitialisation vous a été envoyé":"Entrez votre email pour réinitialiser votre mot de passe"})]}),n?e.jsxs("div",{className:"text-center space-y-6",children:[e.jsxs("div",{className:"bg-green-50 text-green-800 p-4 rounded-lg",children:[e.jsx("p",{className:"font-medium",children:"Email envoyé !"}),e.jsxs("p",{className:"text-sm mt-2",children:["Un email contenant les instructions de réinitialisation a été envoyé à ",s]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"N'oubliez pas de vérifier vos spams si vous ne trouvez pas l'email."}),e.jsx(l,{type:"button",variant:"outline",className:"w-full",onClick:()=>o("/login"),children:"Retour à la connexion"})]})]}):e.jsxs("form",{onSubmit:x,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(y,{htmlFor:"email",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(b,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(N,{id:"email",type:"email",value:s,onChange:t=>m(t.target.value),className:"pl-10",placeholder:"votre@email.com",required:!0,disabled:a})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(l,{type:"submit",className:"w-full",disabled:a,children:a?e.jsxs(e.Fragment,{children:[e.jsx(g,{className:"mr-2 h-4 w-4 animate-spin"}),"Envoi en cours..."]}):"Réinitialiser le mot de passe"}),e.jsxs(l,{type:"button",variant:"ghost",className:"w-full",onClick:()=>o("/login"),children:[e.jsx(w,{className:"mr-2 h-4 w-4"}),"Retour à la connexion"]})]})]})]})})}export{A as default};
//# sourceMappingURL=ResetPassword-Dd-p-ibm.js.map
