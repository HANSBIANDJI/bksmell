import{j as e}from"./ui-DHvs7Rtw.js";import{u as g,r as d,L as w}from"./vendor-BqKlwGYI.js";import{g as y,o as b,I as o,B as L,L as S}from"./index-BZikNEYv.js";import{L as n}from"./label-CGDRo2T5.js";import{U as u}from"./user-CyPgH_gY.js";import{M as P}from"./mail-BM3gX1Aa.js";import{L as x}from"./lock-B_brf4yP.js";import"./utils-DdJn5tvr.js";function U(){const h=g(),{toast:m}=y(),[l,c]=d.useState(!1),[s,i]=d.useState({firstName:"",lastName:"",email:"",phone:"",password:"",confirmPassword:""}),[r,f]=d.useState({firstName:"",lastName:"",email:"",phone:"",password:"",confirmPassword:""}),N=()=>{const a={firstName:"",lastName:"",email:"",phone:"",password:"",confirmPassword:""};let t=!0;return s.firstName||(a.firstName="Le prénom est requis",t=!1),s.lastName||(a.lastName="Le nom est requis",t=!1),s.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)||(a.email="Email invalide",t=!1):(a.email="L'email est requis",t=!1),s.phone||(a.phone="Le téléphone est requis",t=!1),s.password?s.password.length<6&&(a.password="Le mot de passe doit contenir au moins 6 caractères",t=!1):(a.password="Le mot de passe est requis",t=!1),s.password!==s.confirmPassword&&(a.confirmPassword="Les mots de passe ne correspondent pas",t=!1),f(a),t},j=async a=>{if(a.preventDefault(),!N()){m({variant:"destructive",title:"Erreur",description:"Veuillez corriger les erreurs dans le formulaire"});return}c(!0);try{const t=JSON.parse(localStorage.getItem("users")||"[]");if(t.some(v=>v.email===s.email)){m({variant:"destructive",title:"Erreur",description:"Cet email est déjà utilisé"});return}const p={id:Date.now().toString(),...s,role:"CLIENT"};t.push(p),localStorage.setItem("users",JSON.stringify(t)),localStorage.setItem("currentUser",JSON.stringify(p)),m({title:"Inscription réussie",description:"Votre compte a été créé avec succès"}),h("/profile")}catch{m({variant:"destructive",title:"Erreur",description:"Une erreur est survenue lors de l'inscription"})}finally{c(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-purple-50 to-white flex items-center justify-center p-4",children:e.jsxs(b,{className:"w-full max-w-md p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Créer un compte"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Rejoignez BABISMELL pour profiter de nos services"})]}),e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"firstName",children:"Prénom"}),e.jsxs("div",{className:"relative",children:[e.jsx(u,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(o,{id:"firstName",value:s.firstName,onChange:a=>i({...s,firstName:a.target.value}),className:`pl-10 ${r.firstName?"border-red-500":""}`,disabled:l,required:!0})]}),r.firstName&&e.jsx("p",{className:"text-sm text-red-500",children:r.firstName})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"lastName",children:"Nom"}),e.jsxs("div",{className:"relative",children:[e.jsx(u,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(o,{id:"lastName",value:s.lastName,onChange:a=>i({...s,lastName:a.target.value}),className:`pl-10 ${r.lastName?"border-red-500":""}`,disabled:l,required:!0})]}),r.lastName&&e.jsx("p",{className:"text-sm text-red-500",children:r.lastName})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"email",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(P,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(o,{id:"email",type:"email",value:s.email,onChange:a=>i({...s,email:a.target.value}),className:`pl-10 ${r.email?"border-red-500":""}`,disabled:l,required:!0})]}),r.email&&e.jsx("p",{className:"text-sm text-red-500",children:r.email})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"phone",children:"Téléphone"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"+225"}),e.jsx(o,{id:"phone",type:"tel",value:s.phone,onChange:a=>i({...s,phone:a.target.value}),className:`pl-16 ${r.phone?"border-red-500":""}`,placeholder:"XX XX XX XX XX",disabled:l,required:!0})]}),r.phone&&e.jsx("p",{className:"text-sm text-red-500",children:r.phone})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"password",children:"Mot de passe"}),e.jsxs("div",{className:"relative",children:[e.jsx(x,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(o,{id:"password",type:"password",value:s.password,onChange:a=>i({...s,password:a.target.value}),className:`pl-10 ${r.password?"border-red-500":""}`,disabled:l,required:!0,minLength:6})]}),r.password&&e.jsx("p",{className:"text-sm text-red-500",children:r.password})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"confirmPassword",children:"Confirmer le mot de passe"}),e.jsxs("div",{className:"relative",children:[e.jsx(x,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(o,{id:"confirmPassword",type:"password",value:s.confirmPassword,onChange:a=>i({...s,confirmPassword:a.target.value}),className:`pl-10 ${r.confirmPassword?"border-red-500":""}`,disabled:l,required:!0,minLength:6})]}),r.confirmPassword&&e.jsx("p",{className:"text-sm text-red-500",children:r.confirmPassword})]}),e.jsx(L,{type:"submit",className:"w-full",disabled:l,children:l?e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"mr-2 h-4 w-4 animate-spin"}),"Inscription en cours..."]}):"S'inscrire"}),e.jsxs("p",{className:"text-center text-sm text-gray-600",children:["Déjà un compte ?"," ",e.jsx(w,{to:"/login",className:"text-purple-600 hover:text-purple-700",children:"Se connecter"})]})]})]})})}export{U as default};
//# sourceMappingURL=Register-Cmuio0l4.js.map
