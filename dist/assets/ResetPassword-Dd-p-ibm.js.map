{"version":3,"file":"ResetPassword-Dd-p-ibm.js","sources":["../../src/pages/ResetPassword.tsx"],"sourcesContent":["import { useState } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Card } from '@/components/ui/card';\nimport { Mail, ArrowLeft, Loader2 } from 'lucide-react';\nimport { useToast } from '@/components/ui/use-toast';\n\nexport default function ResetPassword() {\n  const [email, setEmail] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [isEmailSent, setIsEmailSent] = useState(false);\n  const { resetPassword } = useAuth();\n  const { toast } = useToast();\n  const navigate = useNavigate();\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setIsLoading(true);\n\n    try {\n      await resetPassword(email);\n      setIsEmailSent(true);\n    } catch (error: any) {\n      toast({\n        variant: \"destructive\",\n        title: \"Erreur\",\n        description: error.message\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-b from-purple-50 to-white flex items-center justify-center p-4\">\n      <Card className=\"w-full max-w-md p-8\">\n        <div className=\"text-center mb-8\">\n          <h1 className=\"text-2xl font-bold\">Mot de passe oublié</h1>\n          <p className=\"text-sm text-muted-foreground mt-2\">\n            {!isEmailSent \n              ? \"Entrez votre email pour réinitialiser votre mot de passe\"\n              : \"Un email de réinitialisation vous a été envoyé\"\n            }\n          </p>\n        </div>\n\n        {!isEmailSent ? (\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"email\">Email</Label>\n              <div className=\"relative\">\n                <Mail className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400\" />\n                <Input\n                  id=\"email\"\n                  type=\"email\"\n                  value={email}\n                  onChange={(e) => setEmail(e.target.value)}\n                  className=\"pl-10\"\n                  placeholder=\"votre@email.com\"\n                  required\n                  disabled={isLoading}\n                />\n              </div>\n            </div>\n\n            <div className=\"space-y-4\">\n              <Button type=\"submit\" className=\"w-full\" disabled={isLoading}>\n                {isLoading ? (\n                  <>\n                    <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                    Envoi en cours...\n                  </>\n                ) : (\n                  'Réinitialiser le mot de passe'\n                )}\n              </Button>\n\n              <Button\n                type=\"button\"\n                variant=\"ghost\"\n                className=\"w-full\"\n                onClick={() => navigate('/login')}\n              >\n                <ArrowLeft className=\"mr-2 h-4 w-4\" />\n                Retour à la connexion\n              </Button>\n            </div>\n          </form>\n        ) : (\n          <div className=\"text-center space-y-6\">\n            <div className=\"bg-green-50 text-green-800 p-4 rounded-lg\">\n              <p className=\"font-medium\">Email envoyé !</p>\n              <p className=\"text-sm mt-2\">\n                Un email contenant les instructions de réinitialisation a été envoyé à {email}\n              </p>\n            </div>\n\n            <div className=\"space-y-4\">\n              <p className=\"text-sm text-gray-600\">\n                N'oubliez pas de vérifier vos spams si vous ne trouvez pas l'email.\n              </p>\n\n              <Button\n                type=\"button\"\n                variant=\"outline\"\n                className=\"w-full\"\n                onClick={() => navigate('/login')}\n              >\n                Retour à la connexion\n              </Button>\n            </div>\n          </div>\n        )}\n      </Card>\n    </div>\n  );\n}"],"names":["ResetPassword","email","setEmail","useState","isLoading","setIsLoading","isEmailSent","setIsEmailSent","resetPassword","useAuth","toast","useToast","navigate","useNavigate","handleSubmit","e","error","jsxs","Card","jsx","Button","Label","Mail","Input","Fragment","Loader2","ArrowLeft"],"mappings":"wTAUA,SAAwBA,GAAgB,CACtC,KAAM,CAACC,EAAOC,CAAQ,EAAIC,EAAAA,SAAS,EAAE,EAC/B,CAACC,EAAWC,CAAY,EAAIF,EAAAA,SAAS,EAAK,EAC1C,CAACG,EAAaC,CAAc,EAAIJ,EAAAA,SAAS,EAAK,EAC9C,CAAE,cAAAK,CAAc,EAAIC,EAAQ,EAC5B,CAAE,MAAAC,CAAM,EAAIC,EAAS,EACrBC,EAAWC,EAAY,EAEvBC,EAAe,MAAOC,GAAuB,CACjDA,EAAE,eAAe,EACjBV,EAAa,EAAI,EAEb,GAAA,CACF,MAAMG,EAAcP,CAAK,EACzBM,EAAe,EAAI,QACZS,EAAY,CACbN,EAAA,CACJ,QAAS,cACT,MAAO,SACP,YAAaM,EAAM,OAAA,CACpB,CAAA,QACD,CACAX,EAAa,EAAK,CAAA,CAEtB,EAEA,aACG,MAAI,CAAA,UAAU,6FACb,SAACY,EAAA,KAAAC,EAAA,CAAK,UAAU,sBACd,SAAA,CAACD,EAAAA,KAAA,MAAA,CAAI,UAAU,mBACb,SAAA,CAACE,EAAA,IAAA,KAAA,CAAG,UAAU,qBAAqB,SAAmB,sBAAA,QACrD,IAAE,CAAA,UAAU,qCACV,SAACb,EAEE,iDADA,0DAGN,CAAA,CAAA,EACF,EAEEA,EA2CAW,EAAAA,KAAC,MAAI,CAAA,UAAU,wBACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,4CACb,SAAA,CAACE,EAAA,IAAA,IAAA,CAAE,UAAU,cAAc,SAAc,iBAAA,EACzCF,EAAAA,KAAC,IAAE,CAAA,UAAU,eAAe,SAAA,CAAA,0EAC8ChB,CAAA,CAC1E,CAAA,CAAA,EACF,EAEAgB,EAAAA,KAAC,MAAI,CAAA,UAAU,YACb,SAAA,CAACE,EAAA,IAAA,IAAA,CAAE,UAAU,wBAAwB,SAErC,sEAAA,EAEAA,EAAA,IAACC,EAAA,CACC,KAAK,SACL,QAAQ,UACR,UAAU,SACV,QAAS,IAAMR,EAAS,QAAQ,EACjC,SAAA,uBAAA,CAAA,CAED,CACF,CAAA,CAAA,CACF,CAAA,EAhEAK,EAAA,KAAC,QAAK,SAAUH,EAAc,UAAU,YACtC,SAAA,CAACG,EAAAA,KAAA,MAAA,CAAI,UAAU,YACb,SAAA,CAACE,EAAA,IAAAE,EAAA,CAAM,QAAQ,QAAQ,SAAK,QAAA,EAC5BJ,EAAAA,KAAC,MAAI,CAAA,UAAU,WACb,SAAA,CAACE,EAAAA,IAAAG,EAAA,CAAK,UAAU,gEAAiE,CAAA,EACjFH,EAAA,IAACI,EAAA,CACC,GAAG,QACH,KAAK,QACL,MAAOtB,EACP,SAAWc,GAAMb,EAASa,EAAE,OAAO,KAAK,EACxC,UAAU,QACV,YAAY,kBACZ,SAAQ,GACR,SAAUX,CAAA,CAAA,CACZ,CACF,CAAA,CAAA,EACF,EAEAa,EAAAA,KAAC,MAAI,CAAA,UAAU,YACb,SAAA,CAACE,EAAAA,IAAAC,EAAA,CAAO,KAAK,SAAS,UAAU,SAAS,SAAUhB,EAChD,WAEGa,EAAA,KAAAO,EAAA,SAAA,CAAA,SAAA,CAACL,EAAAA,IAAAM,EAAA,CAAQ,UAAU,2BAA4B,CAAA,EAAE,mBAAA,CAEnD,CAAA,EAEA,gCAEJ,EAEAR,EAAA,KAACG,EAAA,CACC,KAAK,SACL,QAAQ,QACR,UAAU,SACV,QAAS,IAAMR,EAAS,QAAQ,EAEhC,SAAA,CAACO,EAAAA,IAAAO,EAAA,CAAU,UAAU,cAAe,CAAA,EAAE,uBAAA,CAAA,CAAA,CAExC,CACF,CAAA,CAAA,CACF,CAAA,CAwBA,CAAA,CAEJ,CACF,CAAA,CAEJ"}