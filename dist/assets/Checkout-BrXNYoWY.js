import{j as e}from"./ui-DHvs7Rtw.js";import{u as z,r as c}from"./vendor-BqKlwGYI.js";import{c as S,f as E,g as I,I as d,M as O,h as g,i as N,j as y,k as f,l as b,n as V,o as q,p as D,B as $}from"./index-BZikNEYv.js";import{L as i}from"./label-CGDRo2T5.js";import{R as w,a as M}from"./radio-group-B92exNSt.js";import{U as R}from"./user-CyPgH_gY.js";import{M as Z}from"./mail-BM3gX1Aa.js";import"./utils-DdJn5tvr.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t=S("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=S("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]),o={"abidjan-nord":{name:"Abidjan Nord",areas:["Plateau","Cocody","Adjame","Abobo","Yopougon"],delivery:{rapid:{price:2e3,label:"Livraison rapide (24h)"},normal:{price:1e3,label:"Livraison normale (48-72h)"}}},"abidjan-sud":{name:"Abidjan Sud",areas:["Marcory","Koumassi","Port Bouet"],delivery:{rapid:{price:2500,label:"Livraison rapide (24h)"},normal:{price:1500,label:"Livraison normale (48-72h)"}}},"hors-zone":{name:"Hors zone",areas:["Autre ville"],delivery:{normal:{price:5e3,label:"Livraison (3-5 jours)"}}}},W=[{id:"cash",name:"Paiement à la livraison",description:"Payez en espèces à la réception de votre commande",icon:k},{id:"card",name:"Carte bancaire",description:"Paiement sécurisé par carte bancaire",icon:t},{id:"orange",name:"Orange Money",description:"Paiement sécurisé via Orange Money",icon:t},{id:"mtn",name:"MTN Mobile Money",description:"Paiement sécurisé via MTN Mobile Money",icon:t},{id:"moov",name:"Moov Money",description:"Paiement sécurisé via Moov Money",icon:t},{id:"wave",name:"Wave",description:"Paiement sécurisé via Wave",icon:t}];function J(){const C=z(),{createOrder:F}=E(),{toast:u}=I(),[l,P]=c.useState(""),[j,A]=c.useState("normal"),[m,L]=c.useState("cash"),[a,n]=c.useState({firstName:"",lastName:"",email:"",phone:"",area:"",address:""}),h=l?o[l]:null,p=h?.delivery[j]?.price||0,x=85e3,v=x+p,T=async s=>{if(s.preventDefault(),!l||!h||!a.area||!a.address){u({variant:"destructive",title:"Erreur",description:"Veuillez remplir tous les champs obligatoires"});return}try{const r={items:[{id:"1",name:"Parfum",quantity:1,price:x}],total:v,deliveryFee:p,status:"PENDING",shippingAddress:{fullName:`${a.firstName} ${a.lastName}`,phone:a.phone,address:a.address,city:a.area,zone:h.name},paymentMethod:m},X=await F(r);C("/order-confirmation",{state:{order:X}})}catch{u({variant:"destructive",title:"Erreur",description:"Une erreur est survenue lors de la validation de votre commande"})}};return e.jsx("form",{onSubmit:T,className:"container mx-auto px-4 py-8 max-w-4xl",children:e.jsxs("div",{className:"grid gap-8 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm space-y-4",children:[e.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(R,{className:"h-5 w-5"}),"Informations personnelles"]}),e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"firstName",children:"Prénom"}),e.jsx(d,{id:"firstName",value:a.firstName,onChange:s=>n({...a,firstName:s.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"lastName",children:"Nom"}),e.jsx(d,{id:"lastName",value:a.lastName,onChange:s=>n({...a,lastName:s.target.value}),required:!0})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"email",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(d,{id:"email",type:"email",className:"pl-10",value:a.email,onChange:s=>n({...a,email:s.target.value}),required:!0})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"phone",children:"Téléphone"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"+225"}),e.jsx(d,{id:"phone",type:"tel",className:"pl-16",value:a.phone,onChange:s=>n({...a,phone:s.target.value}),placeholder:"XX XX XX XX XX",required:!0})]})]})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm space-y-4",children:[e.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(O,{className:"h-5 w-5"}),"Adresse de livraison"]}),e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"zone",children:"Zone"}),e.jsxs(g,{value:l,onValueChange:s=>P(s),children:[e.jsx(N,{children:e.jsx(y,{placeholder:"Sélectionner une zone"})}),e.jsx(f,{children:Object.entries(o).map(([s,r])=>e.jsx(b,{value:s,children:r.name},s))})]})]}),l&&e.jsxs("div",{children:[e.jsx(i,{htmlFor:"area",children:"Quartier"}),e.jsxs(g,{value:a.area,onValueChange:s=>n({...a,area:s}),children:[e.jsx(N,{children:e.jsx(y,{placeholder:"Sélectionner un quartier"})}),e.jsx(f,{children:o[l].areas.map(s=>e.jsx(b,{value:s,children:s},s))})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"address",children:"Adresse complète"}),e.jsx(d,{id:"address",value:a.address,onChange:s=>n({...a,address:s.target.value}),required:!0})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm space-y-4",children:[e.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(V,{className:"h-5 w-5"}),"Mode de livraison"]}),l&&e.jsx(w,{value:j,onValueChange:s=>A(s),children:e.jsx("div",{className:"grid gap-4",children:Object.entries(o[l].delivery).map(([s,r])=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(M,{value:s,id:`delivery-${s}`}),e.jsx(i,{htmlFor:`delivery-${s}`,className:"flex-1",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:r.label}),e.jsxs("span",{children:[r.price.toLocaleString()," FCFA"]})]})})]},s))})})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm space-y-4",children:[e.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(t,{className:"h-5 w-5"}),"Mode de paiement"]}),e.jsx(w,{value:m,onValueChange:L,children:e.jsx("div",{className:"grid gap-4",children:W.map(s=>{const r=s.icon;return e.jsx(q,{className:`p-4 cursor-pointer transition-colors ${m===s.id?"ring-2 ring-purple-600":"hover:bg-gray-50"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(M,{value:s.id,id:`payment-${s.id}`}),e.jsx(i,{htmlFor:`payment-${s.id}`,className:"flex-1 cursor-pointer",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(r,{className:"h-5 w-5 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.name}),e.jsx("p",{className:"text-sm text-gray-500",children:s.description})]})]})})]})},s.id)})})})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm space-y-4",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Récapitulatif"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Sous-total"}),e.jsxs("span",{children:[x.toLocaleString()," FCFA"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Livraison"}),e.jsxs("span",{children:[p.toLocaleString()," FCFA"]})]}),e.jsx(D,{}),e.jsxs("div",{className:"flex justify-between font-bold",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:[v.toLocaleString()," FCFA"]})]})]}),e.jsx($,{type:"submit",className:"w-full",children:"Valider la commande"})]})]})]})})}export{J as default};
//# sourceMappingURL=Checkout-BrXNYoWY.js.map
