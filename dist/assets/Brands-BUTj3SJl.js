import{j as e}from"./ui-DHvs7Rtw.js";import{r as c}from"./vendor-BqKlwGYI.js";import{D as L,g as M,B as i,y as O,z,I as x,t as F}from"./index-BZikNEYv.js";import{T as H,a as R,b as p,c as h,d as G,e as u,D as v,f as g,g as f,h as N}from"./dialog-DEPPmxRr.js";import{L as n}from"./label-CGDRo2T5.js";import{T as C}from"./textarea-BGYsLcLq.js";import{S as q}from"./switch-B75tC02L.js";import{S as P}from"./square-pen-DI8ReuSK.js";import{T as J}from"./trash-2-CroxI1IH.js";import"./utils-DdJn5tvr.js";function se(){const{brands:B,addBrand:T,updateBrand:b,deleteBrand:w}=L(),[j,D]=c.useState(""),[y,d]=c.useState(!1),[S,o]=c.useState(!1),[a,l]=c.useState(null),[r,m]=c.useState({name:"",description:"",active:!0}),{toast:t}=M(),k=B.filter(s=>s.name.toLowerCase().includes(j.toLowerCase())),A=()=>{try{T(r),d(!1),m({name:"",description:"",active:!0}),t({title:"Marque ajoutée",description:"La marque a été ajoutée avec succès"})}catch{t({variant:"destructive",title:"Erreur",description:"Impossible d'ajouter la marque"})}},E=()=>{if(a)try{b(a.id,a),o(!1),l(null),t({title:"Marque mise à jour",description:"La marque a été mise à jour avec succès"})}catch{t({variant:"destructive",title:"Erreur",description:"Impossible de mettre à jour la marque"})}},I=s=>{if(window.confirm("Êtes-vous sûr de vouloir supprimer cette marque ?"))try{w(s),t({title:"Marque supprimée",description:"La marque a été supprimée avec succès"})}catch{t({variant:"destructive",title:"Erreur",description:"Impossible de supprimer la marque"})}};return e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Marques"}),e.jsx("p",{className:"text-muted-foreground",children:"Gérez les marques de parfums"})]}),e.jsxs(i,{onClick:()=>d(!0),children:[e.jsx(O,{className:"mr-2 h-4 w-4"}),"Ajouter une marque"]})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx(z,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(x,{placeholder:"Rechercher une marque...",value:j,onChange:s=>D(s.target.value),className:"pl-10"})]})}),e.jsx("div",{className:"bg-white rounded-lg border",children:e.jsxs(H,{children:[e.jsx(R,{children:e.jsxs(p,{children:[e.jsx(h,{children:"Nom"}),e.jsx(h,{children:"Description"}),e.jsx(h,{children:"Statut"}),e.jsx(h,{className:"text-right",children:"Actions"})]})}),e.jsx(G,{children:k.map(s=>e.jsxs(p,{children:[e.jsx(u,{className:"font-medium",children:s.name}),e.jsx(u,{children:s.description||"-"}),e.jsx(u,{children:e.jsx(F,{variant:s.active?"default":"secondary",children:s.active?"Active":"Inactive"})}),e.jsxs(u,{className:"text-right",children:[e.jsx(i,{variant:"ghost",size:"icon",onClick:()=>{l(s),o(!0)},children:e.jsx(P,{className:"h-4 w-4"})}),e.jsx(i,{variant:"ghost",size:"icon",className:"text-red-600",onClick:()=>I(s.id),children:e.jsx(J,{className:"h-4 w-4"})})]})]},s.id))})]})}),e.jsx(v,{open:y,onOpenChange:d,children:e.jsxs(g,{children:[e.jsx(f,{children:e.jsx(N,{children:"Ajouter une marque"})}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"name",children:"Nom"}),e.jsx(x,{id:"name",value:r.name,onChange:s=>m({...r,name:s.target.value})})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"description",children:"Description"}),e.jsx(C,{id:"description",value:r.description,onChange:s=>m({...r,description:s.target.value})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(q,{checked:r.active,onCheckedChange:s=>m({...r,active:s})}),e.jsx(n,{children:"Marque active"})]})]}),e.jsxs("div",{className:"flex justify-end gap-4",children:[e.jsx(i,{variant:"outline",onClick:()=>d(!1),children:"Annuler"}),e.jsx(i,{onClick:A,children:"Ajouter"})]})]})}),e.jsx(v,{open:S,onOpenChange:o,children:a&&e.jsxs(g,{children:[e.jsx(f,{children:e.jsx(N,{children:"Modifier la marque"})}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"edit-name",children:"Nom"}),e.jsx(x,{id:"edit-name",value:a.name,onChange:s=>l({...a,name:s.target.value})})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"edit-description",children:"Description"}),e.jsx(C,{id:"edit-description",value:a.description,onChange:s=>l({...a,description:s.target.value})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(q,{checked:a.active,onCheckedChange:s=>l({...a,active:s})}),e.jsx(n,{children:"Marque active"})]})]}),e.jsxs("div",{className:"flex justify-end gap-4",children:[e.jsx(i,{variant:"outline",onClick:()=>o(!1),children:"Annuler"}),e.jsx(i,{onClick:E,children:"Enregistrer"})]})]})})]})}export{se as default};
//# sourceMappingURL=Brands-BUTj3SJl.js.map
