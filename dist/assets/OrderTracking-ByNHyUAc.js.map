{"version":3,"file":"OrderTracking-ByNHyUAc.js","sources":["../../src/pages/OrderTracking.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { motion } from 'framer-motion';\nimport { Package, Truck, CheckCircle2, AlertCircle } from 'lucide-react';\nimport { Card } from '@/components/ui/card';\nimport { Separator } from '@/components/ui/separator';\n\nconst orderStatuses = {\n  'PENDING': {\n    label: 'En attente',\n    color: 'text-yellow-600',\n    bgColor: 'bg-yellow-100',\n    icon: AlertCircle,\n    step: 0,\n    message: 'Votre commande a été reçue et est en attente de confirmation',\n    details: 'Notre équipe va bientôt traiter votre commande'\n  },\n  'PROCESSING': {\n    label: 'En préparation',\n    color: 'text-blue-600',\n    bgColor: 'bg-blue-100',\n    icon: Package,\n    step: 1,\n    message: 'Votre commande est en cours de préparation',\n    details: 'Nous préparons vos articles avec soin'\n  },\n  'SHIPPING': {\n    label: 'En livraison',\n    color: 'text-purple-600',\n    bgColor: 'bg-purple-100',\n    icon: Truck,\n    step: 2,\n    message: 'Votre commande est en cours de livraison',\n    details: 'Notre livreur est en route vers l\\'adresse indiquée'\n  },\n  'COMPLETED': {\n    label: 'Livrée',\n    color: 'text-green-600',\n    bgColor: 'bg-green-100',\n    icon: CheckCircle2,\n    step: 3,\n    message: 'Votre commande a été livrée avec succès',\n    details: 'Nous espérons que vous apprécierez vos produits'\n  }\n};\n\nexport default function OrderTracking() {\n  const { orderId } = useParams();\n  const [order, setOrder] = useState<any>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const loadOrder = async () => {\n      try {\n        // Récupérer les commandes du localStorage\n        const orders = JSON.parse(localStorage.getItem('orders') || '[]');\n        const foundOrder = orders.find((o: any) => String(o.id).padStart(4, '0') === orderId);\n        \n        if (foundOrder) {\n          setOrder(foundOrder);\n        }\n      } catch (error) {\n        console.error('Error loading order:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadOrder();\n  }, [orderId]);\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600\" />\n      </div>\n    );\n  }\n\n  if (!order) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"text-center\">\n          <h2 className=\"text-2xl font-bold mb-2\">Commande introuvable</h2>\n          <p className=\"text-gray-600\">La commande #{orderId} n'existe pas</p>\n        </div>\n      </div>\n    );\n  }\n\n  const currentStatus = orderStatuses[order.status as keyof typeof orderStatuses];\n  const StatusIcon = currentStatus.icon;\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-b from-purple-50 to-white py-12\">\n      <div className=\"container max-w-3xl px-4\">\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n        >\n          <Card className=\"p-6 mb-8\">\n            <div className=\"text-center mb-8\">\n              <div className={`inline-flex items-center justify-center w-16 h-16 rounded-full ${currentStatus.bgColor} mb-4`}>\n                <StatusIcon className={`h-8 w-8 ${currentStatus.color}`} />\n              </div>\n              <h2 className=\"text-2xl font-bold mb-2\">{currentStatus.label}</h2>\n              <p className=\"text-gray-600\">{currentStatus.message}</p>\n              <p className=\"text-sm text-gray-500 mt-2\">{currentStatus.details}</p>\n            </div>\n\n            <div className=\"relative\">\n              <div className=\"absolute left-8 top-0 bottom-0 w-0.5 bg-gray-200\" />\n              {Object.entries(orderStatuses).map(([key, status], index) => {\n                const StatusIcon = status.icon;\n                const isActive = status.step <= currentStatus.step;\n                const isLast = index === Object.entries(orderStatuses).length - 1;\n\n                return (\n                  <div key={key} className={`relative pl-16 ${isLast ? '' : 'mb-8'}`}>\n                    <div className={`absolute left-7 -translate-x-1/2 w-3 h-3 rounded-full ${\n                      isActive ? status.bgColor : 'bg-gray-200'\n                    } border-2 ${\n                      isActive ? `border-${status.color.replace('text-', '')}` : 'border-gray-300'\n                    }`} />\n                    <div className=\"flex items-center gap-4\">\n                      <StatusIcon className={`h-6 w-6 ${isActive ? status.color : 'text-gray-400'}`} />\n                      <div>\n                        <h3 className={`font-semibold ${isActive ? status.color : 'text-gray-400'}`}>\n                          {status.label}\n                        </h3>\n                        {isActive && key === order.status && (\n                          <p className=\"text-sm text-gray-600 mt-1\">\n                            {status.details}\n                          </p>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          </Card>\n\n          <Card className=\"p-6\">\n            <h2 className=\"text-lg font-semibold mb-4\">Détails de la commande</h2>\n            <div className=\"space-y-4\">\n              {order.items.map((item: any) => (\n                <div key={item.id} className=\"flex justify-between\">\n                  <div>\n                    <p className=\"font-medium\">{item.name}</p>\n                    <p className=\"text-sm text-gray-500\">Qté: {item.quantity}</p>\n                  </div>\n                  <p className=\"font-medium\">{(item.price * item.quantity).toLocaleString()} FCFA</p>\n                </div>\n              ))}\n              <Separator />\n              <div className=\"flex justify-between text-sm\">\n                <span>Sous-total</span>\n                <span>{(order.total - order.deliveryFee).toLocaleString()} FCFA</span>\n              </div>\n              <div className=\"flex justify-between text-sm\">\n                <span>Frais de livraison</span>\n                <span>{order.deliveryFee.toLocaleString()} FCFA</span>\n              </div>\n              <Separator />\n              <div className=\"flex justify-between font-bold\">\n                <span>Total</span>\n                <span>{order.total.toLocaleString()} FCFA</span>\n              </div>\n            </div>\n          </Card>\n        </motion.div>\n      </div>\n    </div>\n  );\n}"],"names":["orderStatuses","AlertCircle","Package","Truck","CheckCircle2","OrderTracking","orderId","useParams","order","setOrder","useState","loading","setLoading","useEffect","foundOrder","o","error","jsx","jsxs","currentStatus","StatusIcon","motion","Card","key","status","index","isActive","isLast","item","Separator"],"mappings":"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"}