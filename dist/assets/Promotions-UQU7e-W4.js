import{j as e}from"./ui-DHvs7Rtw.js";import{r as c}from"./vendor-BqKlwGYI.js";import{G as I,B as m,y as z,I as i,h as D,i as v,j as N,k as f,l as C,z as H,t as V}from"./index-BZikNEYv.js";import{D as b,i as y,f as S,g as P,h as w,T as G,a as q,b as T,c as o,d as M,e as h}from"./dialog-DEPPmxRr.js";import{L as d}from"./label-CGDRo2T5.js";import{p as F}from"./perfumes-Dso3u2Xj.js";import{S as J}from"./square-pen-DI8ReuSK.js";import{T as K}from"./trash-2-CroxI1IH.js";import"./utils-DdJn5tvr.js";const Q=[{id:"1",name:"Soldes d'été",discount:20,startDate:"2024-06-01",endDate:"2024-06-30",status:"scheduled",productsCount:15,products:["1","2","3"]},{id:"2",name:"Black Friday",discount:30,startDate:"2024-11-29",endDate:"2024-11-30",status:"scheduled",productsCount:25,products:["4","5","6"]},{id:"3",name:"Promotion de printemps",discount:15,startDate:"2024-03-01",endDate:"2024-03-31",status:"active",productsCount:10,products:["7","8"]}],U={active:"bg-green-100 text-green-800",scheduled:"bg-blue-100 text-blue-800",ended:"bg-gray-100 text-gray-800"},W={active:"En cours",scheduled:"Programmée",ended:"Terminée"};function ne(){const[j,E]=c.useState(""),[u,x]=c.useState(Q),[a,l]=c.useState(null),[B,p]=c.useState(!1),[L,g]=c.useState(!1),[t,r]=c.useState({name:"",discount:0,startDate:"",endDate:"",products:[]}),k=u.filter(s=>s.name.toLowerCase().includes(j.toLowerCase())),O=()=>{if(t.name&&t.discount&&t.startDate&&t.endDate){const s={id:(u.length+1).toString(),status:"scheduled",productsCount:t.products?.length||0,...t};x([...u,s]),r({name:"",discount:0,startDate:"",endDate:"",products:[]}),p(!1)}},R=()=>{a&&(x(u.map(s=>s.id===a.id?{...a,productsCount:a.products.length}:s)),l(null),g(!1))},A=s=>{x(u.filter(n=>n.id!==s))};return e.jsxs("div",{className:"flex h-screen",children:[e.jsx(I,{}),e.jsxs("div",{className:"flex-1 p-8 overflow-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Promotions"}),e.jsx("p",{className:"text-muted-foreground",children:"Gérez vos offres promotionnelles"})]}),e.jsxs(b,{open:B,onOpenChange:p,children:[e.jsx(y,{asChild:!0,children:e.jsxs(m,{children:[e.jsx(z,{className:"mr-2 h-4 w-4"}),"Créer une promotion"]})}),e.jsxs(S,{className:"max-w-2xl",children:[e.jsx(P,{children:e.jsx(w,{children:"Créer une promotion"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"name",children:"Nom"}),e.jsx(i,{id:"name",value:t.name,onChange:s=>r({...t,name:s.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"discount",children:"Réduction (%)"}),e.jsx(i,{id:"discount",type:"number",value:t.discount,onChange:s=>r({...t,discount:Number(s.target.value)})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"startDate",children:"Date de début"}),e.jsx(i,{id:"startDate",type:"date",value:t.startDate,onChange:s=>r({...t,startDate:s.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"endDate",children:"Date de fin"}),e.jsx(i,{id:"endDate",type:"date",value:t.endDate,onChange:s=>r({...t,endDate:s.target.value})})]}),e.jsxs("div",{className:"space-y-2 col-span-2",children:[e.jsx(d,{htmlFor:"products",children:"Produits"}),e.jsxs(D,{value:t.products?.join(","),onValueChange:s=>r({...t,products:s.split(",").filter(Boolean)}),children:[e.jsx(v,{children:e.jsx(N,{placeholder:"Sélectionner les produits"})}),e.jsx(f,{children:F.map(s=>e.jsxs(C,{value:s.id,children:[s.name," - ",s.brand]},s.id))})]})]})]}),e.jsx(m,{className:"w-full mt-4",onClick:O,disabled:!t.name||!t.discount||!t.startDate||!t.endDate,children:"Créer"})]})]})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx(H,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(i,{placeholder:"Rechercher une promotion...",value:j,onChange:s=>E(s.target.value),className:"pl-10"})]})}),e.jsx("div",{className:"bg-white rounded-lg border",children:e.jsxs(G,{children:[e.jsx(q,{children:e.jsxs(T,{children:[e.jsx(o,{children:"Nom"}),e.jsx(o,{children:"Réduction"}),e.jsx(o,{children:"Période"}),e.jsx(o,{children:"Produits"}),e.jsx(o,{children:"Statut"}),e.jsx(o,{className:"text-right",children:"Actions"})]})}),e.jsx(M,{children:k.map(s=>e.jsxs(T,{children:[e.jsx(h,{className:"font-medium",children:s.name}),e.jsxs(h,{children:[s.discount,"%"]}),e.jsx(h,{children:e.jsxs("div",{className:"text-sm",children:[e.jsxs("div",{children:["Début: ",new Date(s.startDate).toLocaleDateString()]}),e.jsxs("div",{children:["Fin: ",new Date(s.endDate).toLocaleDateString()]})]})}),e.jsxs(h,{children:[s.productsCount," produits"]}),e.jsx(h,{children:e.jsx(V,{className:U[s.status],variant:"secondary",children:W[s.status]})}),e.jsxs(h,{className:"text-right",children:[e.jsxs(b,{open:L,onOpenChange:g,children:[e.jsx(y,{asChild:!0,children:e.jsx(m,{variant:"ghost",size:"icon",onClick:()=>l(s),children:e.jsx(J,{className:"h-4 w-4"})})}),a&&e.jsxs(S,{className:"max-w-2xl",children:[e.jsx(P,{children:e.jsx(w,{children:"Modifier la promotion"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"edit-name",children:"Nom"}),e.jsx(i,{id:"edit-name",value:a.name,onChange:n=>l({...a,name:n.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"edit-discount",children:"Réduction (%)"}),e.jsx(i,{id:"edit-discount",type:"number",value:a.discount,onChange:n=>l({...a,discount:Number(n.target.value)})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"edit-startDate",children:"Date de début"}),e.jsx(i,{id:"edit-startDate",type:"date",value:a.startDate,onChange:n=>l({...a,startDate:n.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"edit-endDate",children:"Date de fin"}),e.jsx(i,{id:"edit-endDate",type:"date",value:a.endDate,onChange:n=>l({...a,endDate:n.target.value})})]}),e.jsxs("div",{className:"space-y-2 col-span-2",children:[e.jsx(d,{htmlFor:"edit-products",children:"Produits"}),e.jsxs(D,{value:a.products.join(","),onValueChange:n=>l({...a,products:n.split(",").filter(Boolean)}),children:[e.jsx(v,{children:e.jsx(N,{placeholder:"Sélectionner les produits"})}),e.jsx(f,{children:F.map(n=>e.jsxs(C,{value:n.id,children:[n.name," - ",n.brand]},n.id))})]})]})]}),e.jsx(m,{className:"w-full mt-4",onClick:R,disabled:!a.name||!a.discount||!a.startDate||!a.endDate,children:"Enregistrer"})]})]}),e.jsx(m,{variant:"ghost",size:"icon",className:"text-red-600",onClick:()=>A(s.id),children:e.jsx(K,{className:"h-4 w-4"})})]})]},s.id))})]})})]})]})}export{ne as default};
//# sourceMappingURL=Promotions-UQU7e-W4.js.map
